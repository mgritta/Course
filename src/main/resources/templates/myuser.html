<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<!--thymeleaf - берет из контролеров инфу-->
<head>
    <meta charset="UTF-8">
    <title>Edit profile</title>
    <!--    Подключение библиотеки с css-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>
</head>
<body style="background-color: #f0b88f3d; color: #311d0c">
<header style="background-color: #3a291cf0" class="bd-header py-3 d-flex align-items-stretch border-bottom border-dark">
    <div style="color: #3a291cf0" class="container-fluid d-flex align-items-center">
        <h1 class="d-flex align-items-center fs-4 text-white mb-0">
            My profile
        </h1>
    </div>
</header>
<div>
    <table id="user-table" style="color: #311d0c" class="table table-striped table-hover">
        <thead>
        <tr>
<!--            <th style="color: #311d0c; font-family: 'Roboto Flex',sans-serif; font-weight: lighter;" scope="col">ID-->
<!--            </th>-->
<!--            <th style="color: #311d0c; font-family: 'Roboto Flex',sans-serif; font-weight: lighter;" scope="col">Name-->
<!--            </th>-->
            <th style="color: #311d0c; font-family: 'Roboto Flex',sans-serif; font-weight: lighter;" scope="col">Name
            </th>
            <th style="color: #311d0c; font-family: 'Roboto Flex',sans-serif; font-weight: lighter;" scope="col">Age
            </th>
            <th style="color: #311d0c; font-family: 'Roboto Flex',sans-serif; font-weight: lighter;" scope="col">Email
            </th>
        </tr>
        </thead>
        <tbody style="color: #311d0c; font-family: 'Roboto Flex',sans-serif; font-weight: lighter; background-color: #f9bb8d">
        <tr th:each="myUser: ${listMyUser}" class="tr">
<!--            <th style="color: #311d0c; font-family: 'Roboto Flex',sans-serif; font-weight: lighter;" scope="row"-->
<!--                class="th" th:text="${myUser.ID}">ID-->
<!--            </th>-->
<!--            <th style="color: #311d0c; font-family: 'Roboto Flex',sans-serif; font-weight: lighter;" scope="row"-->
<!--                class="th" th:text="${myUser.name}">Name-->
<!--            </th>-->
            <th style="color: #311d0c; font-family: 'Roboto Flex',sans-serif; font-weight: lighter;" scope="row"
                class="th" th:text="${myUser.surname}">Name
            </th>
            <th style="color: #311d0c; font-family: 'Roboto Flex',sans-serif; font-weight: lighter;" scope="row"
                class="th" th:text="${myUser.age}">Age
            </th>
            <th style="color: #311d0c; font-family: 'Roboto Flex',sans-serif; font-weight: lighter;" scope="row"
                class="th" th:text="${myUser.email}">Email
            </th>

            <td>
                <a style="color: #ecb186;" th:href="@{'/edit_user/'+ ${myUser.ID}}">
                    <button style="color:#463527; background-color:#f08c5fb0; border-color: #f08c5fb0; gap: 10px"
                            type="button" class="btn btn-info">Edit profile
                    </button>
                </a>
                <a th:href="@{'/delete/'+ ${myUser.ID}}">
                    <button style="color:#463527; background-color:#f08c5fb0; border-color: #f08c5fb0; gap: 10px"
                            type="button" class="btn btn-info">Delete
                    </button>
                </a>

            </td>

        </tr>
        </tbody>
    </table>
    <blockquote class="blockquote text-center">
        <a th:href="@{'/new_user'}" style="text-decoration: none; display: inline-block;">
            <button style=" background-color: #3a291cf0;" id="add-data-btn" type="button" class="btn btn-secondary rounded-pill px-3" data-togge="button" aria-pressed="false" autocomplete="off">
                Add info
            </button>

        </a>

    </blockquote>
    <script>
        window.onload = function() {
            checkTableData();
        };

        function checkTableData() {
            var userTable = document.getElementById("user-table");
            var addButton = document.getElementById("add-data-btn");

            if (userTable.rows.length <= 1) {
                addButton.style.display = "block";
            } else {
                addButton.style.display = "none";
            }
        }

    </script>

    <a th:href="@{'/'}">
        <button style="background-color: #3a291cf0; position: fixed; bottom:20px; left: 20px;"
                class="btn btn-secondary rounded-pill px-3" type="button" name="black-btn">Home page
        </button>
    </a>

</div>